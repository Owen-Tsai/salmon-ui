@import "common/var.styl"

.sui-alert {
  padding 12px 16px
  border-radius border-radius--normal
  box-sizing border-box
  font-size font-size--text.medium

  for type, colors in typesMap {
    &--{type} {
      border: 1px solid colors[4]
      background-color: colors[4]
      color: colors--neutral[0]

      & ^[0]__close-btn {
        &:focus {
          background-color colors[2]
        }
      }
    }
  }

  &--warning {
    color: color--text
  }

  &__wrapper {
    display flex
    align-items center
    position relative
    padding-right 24px
    box-sizing border-box

    ^[0]__icon {
      font-size 24px
      margin-right 16px

      &.is-large {
        font-size 32px
      }
    }
    ^[0]__title {
      font-weight 700
      margin-bottom 4px
      * {
        vertical-align middle
      }
    }
    ^[0]__message {
      margin 0
    }
  }

  &__prefix {
    display inline-flex
    align-items center
    justify-content center
  }

  &__close-btn {
    background none
    border none
    outline none
    position absolute
    right -4px
    cursor pointer
    top 2px
    color inherit
    border-radius 50%
    font-size: font-size--text.large
    height @font-size + 4px
    width @height
    display inline-flex
    align-items center
    justify-content center
    transition all .1s
  }

  // is outlined
  &.is-outlined {
    for type, colors in typesMap {
      &^[0]--{type} {
        border: 1px solid colors[4]
        background-color: colors[0]
        color: colors[4]

        & ^[0]__close-btn {
          &:focus {
            background-color colors[1]
          }
        }
      }
    }
  }

  &.is-closing {
    height: 0 !important
    margin: 0
    padding-top: 0
    padding-bottom: 0
    transform-origin: 50% 0
    transition: all 0.3s ease-in-out

    * {
      opacity 0
      transition opacity .3s ease-in-out
    }
  }
}

@keyframes slideUpIn {
  0% {
    transform: scaleY(0);
    transform-origin: 0 0;
    opacity: 0;
  }
  100% {
    transform: scaleY(1);
    transform-origin: 0 0;
    opacity: 1;
  }
}

@keyframes slideUpOut {
  0% {
    transform: scaleY(1);
    transform-origin: 0 0;
    opacity: 1;
  }
  100% {
    transform: scaleY(0);
    transform-origin: 0 0;
    opacity: 0;
  }
}

.slide-up-leave {
  animation: slideUpOut 0.3s ease-in-out
  animation-fill-mode: both
}
