@import 'common/var.styl'
@import 'common/mixins/index.styl'
@import 'common/mixins/alert.styl'

.sui-alert {
  padding = 16px 12px
  bg-token = 1

  padding: padding
  border-radius: border-radius--normal
  box-sizing: border-box
  font-size: font-size--text.medium
  transition: all transition--slow
  opacity: 1
  background-color: colors--primary[bg-token]
  color: color--text

  &__wrapper {
    display flex
    align-items center
    position relative
    padding-right 24px
    box-sizing border-box

    ^[0]__icon {
      font-size 24px
      margin-right 16px
      color: color--primary

      &.is-large {
        font-size 32px
      }
    }
    ^[0]__title {
      font-weight 700
      margin-bottom 4px
      * {
        vertical-align middle
      }
    }
    ^[0]__message {
      margin 0
    }
  }

  &--warning {
    make-alert('warning')
  }
  &--error {
    make-alert('error')
  }
  &--success {
    make-alert('success')
  }

  &__prefix {
    display inline-flex
    align-items center
    justify-content center
  }

  &__close-btn {
    background none
    border none
    position absolute
    right -4px
    cursor pointer
    top 2px
    color inherit
    border-radius 50%
    font-size: font-size--icon.medium
    padding 2px
    display inline-flex
    align-items center
    justify-content center
    transition all .1s
  }

  &.is-closing {
    height: 0 !important
    margin: 0
    padding-top: 0
    padding-bottom: 0
    transform-origin: 50% 0
    opacity 0
    transition: all transition--slow ease-in-out

    * {
      opacity 0
      transition opacity transition--slow ease-in-out
    }
  }
}

@keyframes slideUpIn {
  0% {
    transform: scaleY(0);
    transform-origin: 0 0;
    opacity: 0;
  }
  100% {
    transform: scaleY(1);
    transform-origin: 0 0;
    opacity: 1;
  }
}

@keyframes slideUpOut {
  0% {
    transform: scaleY(1);
    transform-origin: 0 0;
    opacity: 1;
  }
  100% {
    transform: scaleY(0);
    transform-origin: 0 0;
    opacity: 0;
  }
}

.slide-up-leave {
  animation: slideUpOut transition--slow ease-in-out
  animation-fill-mode: both
}
