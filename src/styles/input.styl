@import "common/mixins/mixin.common.styl"

.sui-input {
  position relative
  font-size font-size--text.medium
  display inline-flex
  width 100%
  height 40px
  line-height 40px
  vertical-align middle

  &__input {
    display inline-block
    color color--text.normal
    background-color #ffffff
    border 1px solid color--border
    border-radius border-radius--normal
    height 40px
    box-sizing border-box
    padding 0 16px
    outline none
    transition all .3s
    vertical-align middle
    width 100%
    z-index 1

    &:focus {
      box-shadow 0 0 0 0.25rem rgba(color--primary.light, 0.25)
      border-color color--primary.normal
    }
    &:not([disabled]):hover {
      border-color color--primary.normal
    }

    &[disabled] {
      background-color color--bg.normal
      cursor not-allowed
    }
  }

  &__prefix {
    height 100%
    position absolute
    left 12px
    top 0
    text-align center
    color color--placeholder
    z-index 3
    center-el()
  }

  &__suffix {
    height 100%
    position absolute
    right 12px
    top 0
    text-align center
    color color--placeholder
    z-index 3
    center-el()

    .sui-icon {
      vertical-align baseline
    }

    .sui-icon:not(:last-child) {
      margin-right 6px
    }

    .sui-icon.toggle-password,
    .sui-icon.clear-input {
      cursor pointer
      transition color .3s

      &:hover {
        color color--text.normal
      }
    }

    ^[0]__count {
      background-color #ffffff
      padding-left 4px
    }
  }

  &.has-prefix > &__input {
    padding-left 32px
  }
  &.has-suffix > &__input {
    padding-right 28px
  }
}

::placeholder {
  color color--placeholder
}

.sui-input--group {

  .sui-input__input:focus {
    z-index 3
  }

  .sui-input__prepend, .sui-input__append {
    background-color color--bg.dark
    padding 0 12px
    border 1px solid color--border
    color color--text.normal
    box-sizing border-box
    z-index 2
    center-el()

    // buttons
    .sui-button,
    .sui-button:hover, .sui-button:active, .sui-button:focus {
      margin 0 -13px 0 -12px
    }
  }

  &.has-prepend  {
    &.hovering-input {
      .sui-button {
        border-right-color color--primary.normal
      }
    }
    .sui-input__prepend {
      border-left 0
      border-top-left-radius border-radius--normal
      border-bottom-left-radius border-radius--normal

      .sui-button {
        border-top-right-radius 0
        border-bottom-right-radius 0
        margin-right -14px
      }
    }
    .sui-input__input {
      border-top-left-radius 0
      border-bottom-left-radius 0
    }
  }
  &.has-append  {
    &.hovering-input {
      .sui-button {
        border-left-color color--primary.normal
      }
    }
    .sui-input__append {
      border-left 0
      border-top-right-radius border-radius--normal
      border-bottom-right-radius border-radius--normal

      .sui-button {
        border-top-left-radius 0
        border-bottom-left-radius 0
        margin-left -13px
      }
    }
    .sui-input__input {
      border-top-right-radius 0
      border-bottom-right-radius 0
    }
  }
}
